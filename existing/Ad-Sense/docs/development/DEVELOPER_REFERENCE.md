# Developer Reference: AdSense Compliance Guidelines\n\n## Quick Start for Developers\n\nThis document explains the AdSense compliance architecture for the Ad-Sense gaming platform.\n\n---\n\n## ğŸ® Game Reward System\n\n### How Credits Are Awarded (AdSense Compliant)\n\n```javascript\n// SCENARIO: User completes an easy puzzle in 45 seconds with 18 moves\n\nconst config = difficultyConfig['easy'];\n// config = { gridSize: 4, timeLimit: 120, baseReward: 25 }\n\nconst timeBonus = Math.max(0, 120 - 45);\n// timeBonus = 75 seconds saved\n\nconst movesPenalty = Math.max(0, 18 - 15);\n// movesPenalty = 3 extra moves\n\nconst creditsEarned = Math.max(0, \n  25 +                          // Base reward for Easy\n  Math.floor(75 / 2) -          // +37 for time bonus\n  Math.floor(3 / 5)             // -0 for moves (rounded down)\n);\n\n// RESULT: Player earns 62 credits\n```\n\n### What DOES NOT Affect Credits\nâŒ Number of ads shown\nâŒ Time spent viewing ads\nâŒ Clicks on ads\nâŒ User engagement outside the game\nâŒ Demographics or user profile\n\n---\n\n## ğŸ›¡ï¸ Fraud Detection System\n\n### Validation Thresholds\n\n```javascript\n// If average time per move is less than 50ms, it's suspicious\nconst averageMoveTime = (gameState.gameTime * 1000) / gameState.moves;\nif (averageMoveTime < 50) {\n  // BAN THIS MOVE - Likely automated/bot activity\n  creditsEarned = 0;\n}\n\n// If player made more than 200 moves, it's suspicious\nif (gameState.moves > 200) {\n  // Could indicate puzzle manipulation or click-farming\n  creditsEarned = 0;\n}\n```\n\n### Valid Game Parameters\n\n| Metric | Min | Max | Notes |\n|--------|-----|-----|-------|\n| Average Move Time | 50ms | âˆ | Prevents instant-solving bots |\n| Total Moves | 0 | 200 | Prevents manipulation |\n| Game Time | Game depends on difficulty | Game depends on difficulty | Can't be negative |\n| Difficulty | 1 of 3 | 1 of 3 | Must be valid difficulty |\n\n---\n\n## ğŸ“± UI/UX Compliance\n\n### Game Modal Structure (Correct)\n\n```\nGAME MODAL\nâ”œâ”€â”€ Instructions Screen\nâ”‚   â”œâ”€â”€ [AD ZONE - Top]\nâ”‚   â””â”€â”€ Difficulty Selector\nâ”‚       â””â”€â”€ Clear message: \"Rewards based on performance\"\nâ”‚\nâ”œâ”€â”€ Playing Screen\nâ”‚   â”œâ”€â”€ [AD ZONE - Top]\nâ”‚   â”œâ”€â”€ Game Stats (Timer, Moves, Difficulty)\nâ”‚   â”œâ”€â”€ [CORE GAME - Puzzle Grid] â† Protected\nâ”‚   â”œâ”€â”€ [AD ZONE - Bottom]\nâ”‚   â””â”€â”€ Quit Button\nâ”‚\nâ””â”€â”€ Results Screen\n    â”œâ”€â”€ [AD ZONE - Top]\n    â”œâ”€â”€ Status (Won/Lost)\n    â”œâ”€â”€ Stats (Time, Moves, Credits)\n    â”œâ”€â”€ Clear message: \"Credits from performance â€¢ No ad clicks\"\n    â”œâ”€â”€ Action Buttons (Play Again/Back)\n    â””â”€â”€ [AD ZONE - Bottom]\n```\n\n### CSS Classes for Ad Zones\n\n```html\n<!-- Main ad container -->\n<div class=\"game-ad-zone\">\n  <!-- Label -->\n  <div class=\"ad-zone-label\">Advertisement</div>\n  <!-- Placeholder for actual ad -->\n  <div class=\"ad-placeholder\">\n    <div class=\"ad-placeholder-img\">AD</div>\n    <span class=\"ad-placeholder-text\">Your ad could appear here</span>\n  </div>\n</div>\n\n<!-- Compact version for playing screen -->\n<div class=\"game-ad-zone game-ad-zone-top-play\">\n  <div class=\"ad-zone-label\">Advertisement</div>\n  <div class=\"ad-placeholder ad-placeholder-compact\">\n    <div class=\"ad-placeholder-img\">AD</div>\n  </div>\n</div>\n```\n\n---\n\n## ğŸš€ Integrating Real Google AdSense\n\n### When Ready for Production:\n\n**Step 1: Replace Placeholder Divs**\n```html\n<!-- Before (Development) -->\n<div class=\"ad-placeholder\">\n  <div class=\"ad-placeholder-img\">AD</div>\n</div>\n\n<!-- After (Production) -->\n<div id=\"puzzle-ad-zone-1\">\n  <!-- Google AdSense tag here -->\n  <script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-xxxxxxxxxxxxxxxx\"\n     crossorigin=\"anonymous\"></script>\n  <!-- ad unit code -->\n  <ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-xxxxxxxxxxxxxxxx\"\n     data-ad-slot=\"xxxxxxxxxx\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n  <script>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  </script>\n</div>\n```\n\n**Step 2: Validate Ad Placement**\n- [ ] Ads load without errors\n- [ ] Ads don't overlay game content\n- [ ] Ads don't interfere with mouse/touch input\n- [ ] Game functionality unaffected\n\n**Step 3: Track Performance**\n- [ ] Monitor ad impressions vs game completions\n- [ ] Verify revenue tracking is accurate\n- [ ] Monitor for invalid activity trends\n\n**Step 4: Monitor Compliance**\n- Run through game completion scenarios monthly\n- Check for ad policy violations\n- Review fraud detection logs\n\n---\n\n## ğŸ“Š Data Flow (Compliance-Safe)\n\n```\nUser starts game\n    â†“\n[AD ZONE] Shows ad (user can ignore)\n    â†“\nUser plays puzzle\n    â†“\n[Game Logic]\nâ”œâ”€ Tracks: gameState.moves, gameState.gameTime\nâ”œâ”€ Validates: Move timing, move count\nâ””â”€ Calculates: creditsEarned from performance ONLY\n    â†“\nGame ends\n    â†“\n[Fraud Check]\nâ”œâ”€ If suspicious: creditsEarned = 0\nâ””â”€ If valid: creditsEarned = calculated amount\n    â†“\n[Update User]\nâ”œâ”€ user.credits += creditsEarned\nâ”œâ”€ user.gamesPlayed++\nâ””â”€ user.level = Math.floor(credits / 200) + 1\n    â†“\n[Results Screen]\nâ”œâ”€ [AD ZONE] Shows ad\nâ””â”€ Display results (Time, Moves, Credits earned)\n    â†“\nAds never influence credit calculation âœ…\n```\n\n---\n\n## âš ï¸ Common Mistakes to Avoid\n\n### âŒ DO NOT:\n\n1. **Award credits for ad clicks**\n   ```javascript\n   // WRONG - Violates AdSense policy\n   if (userClickedAd) {\n     credits += 10;\n   }\n   ```\n\n2. **Make gameplay require ad viewing**\n   ```javascript\n   // WRONG - Incentivized clicks\n   if (!adViewed) {\n     disableGameButton();\n   }\n   ```\n\n3. **Hide game content behind ads**\n   ```javascript\n   // WRONG - Ad interference\n   puzzleGrid.style.zIndex = -1;  // Back\n   adContainer.style.zIndex = 10;  // Front\n   ```\n\n4. **Track ad clicks in reward logic**\n   ```javascript\n   // WRONG - Ad metrics mixed with game metrics\n   if (ad.impressions > 5) {\n     creditsEarned *= 2;  // Bonus based on ad views\n   }\n   ```\n\n5. **Allow bots/scripts to auto-complete games**\n   ```javascript\n   // WRONG - Fraud\n   if (averageMoveTime < 10) {  // 10ms per move\n     // Likely bot - DON'T REWARD\n   }\n   ```\n\n### âœ… DO:\n\n1. **Award credits strictly for performance**\n   ```javascript\n   // CORRECT\n   creditsEarned = baseReward + timeBonus - movesPenalty;\n   ```\n\n2. **Place ads safely away from game**\n   ```css\n   /* CORRECT - Clear separation */\n   .game-ad-zone {\n     margin: 20px 0;  /* Space between ad and game */\n     border: 2px solid border-glass;  /* Visual separation */\n   }\n   ```\n\n3. **Validate game completion server-side (production)**\n   ```javascript\n   // CORRECT - Send verification to server\n   await fetch('/api/validate-game', {\n     method: 'POST',\n     body: JSON.stringify({\n       userId: user.id,\n       gameTime: gameState.gameTime,\n       moves: gameState.moves,\n       difficulty: gameState.difficulty\n     })\n   });\n   ```\n\n4. **Log all transactions for audit**\n   ```javascript\n   // CORRECT - Trackable record\n   console.log('Game completion', {\n     timestamp: new Date(),\n     userId: user.id,\n     credentials: creditsEarned,\n     gameVariables: { gameTime, moves, difficulty }\n   });\n   ```\n\n---\n\n## ğŸ” Testing Compliance\n\n### Manual Testing Checklist\n\n- [ ] **Game plays normally** - No crashes or errors\n- [ ] **Rewards calculated correctly** - Try different times/moves\n- [ ] **Fraud detected** - Instant wins get 0 credits\n- [ ] **Ads don't interfere** - Can play game normally despite ads\n- [ ] **Messaging is clear** - Users understand rewards are performance-based\n- [ ] **No click-bait** - Ads don't trick users into clicking\n- [ ] **Results transparent** - Credit breakdown shown\n- [ ] **Mobile responsive** - Ads and game both work on phone\n\n### Automated Testing Example\n\n```javascript\n// Test: Credits awarded for valid game completion\ntest('should award credits for valid game', () => {\n  gameState.gameTime = 45;  // Legitimate time\n  gameState.moves = 18;     // Legitimate moves\n  gameState.difficulty = 'easy';\n  \n  let creditsEarned = calculateCredits();\n  \n  expect(creditsEarned).toBeGreaterThan(0);\n  expect(creditsEarned).toBeLessThanOrEqual(125);  // Max with bonuses\n});\n\n// Test: Fraud detection prevents rewards\ntest('should not award credits for suspicious moves', () => {\n  gameState.gameTime = 2;   // 2 seconds - too fast\n  gameState.moves = 50;     // 40ms average - bot-like\n  gameState.difficulty = 'easy';\n  \n  let creditsEarned = calculateCredits();\n  \n  expect(creditsEarned).toBe(0);\n  expect(gameState.suspiciousActivity).toBe(true);\n});\n```\n\n---\n\n## ğŸ“ Support & Resources\n\n**Files Created:**\n- `ADSENSE_COMPLIANCE.md` - Full compliance documentation\n- `COMPLIANCE_UPDATE_SUMMARY.md` - Changes summary\n- This file - Developer reference guide\n\n**Key Files Modified:**\n- `index.html` - Ad zones and compliance messages\n- `css/style.css` - Ad zone styling\n- `js/app.js` - Fraud detection and comment additions\n\n**External Resources:**\n- [Google AdSense Policies](https://support.google.com/adsense/answer/48182)\n- [Games & Puzzles Policy](https://support.google.com/adsense/answer/12995)\n- [Click Quality Guidelines](https://support.google.com/adsense/answer/6001)\n\n---\n\n**Version:** 1.0\n**Last Updated:** February 12, 2026\n**Compliance Status:** âœ… Development Ready\n